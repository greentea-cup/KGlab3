﻿﻿﻿Синтаксис:              MSBuild.exe [параметры] [файл проекта | каталог]

Описание:         собирает указанные целевые объекты в файле проекта. Если
                     файл проекта не указан, MSBuild ищет
                     в текущем рабочем каталоге файл, который имеет расширение,
                     заканчивающееся на proj, и использует этот файл. Если
                     указан каталог, MSBuild ищет файл проекта в нем.

Параметры:            Вы можете указывать параметры с использованием синтаксиса
                     "-switch", "/switch" и "--switch".

  -target:<целевые объекты>  Интегрировать эти конечные объекты в проект. Чтобы разделить несколько
                     целевых объектов, используйте точку с запятой или запятую либо укажите каждый
                     целевой объект отдельно. (Краткая форма: -t)
         Пример:
                       -target:Resources;Compile

  -property:<n>=<v>  Установите или переопределите свойства уровня проекта. <n> является
                     именем свойства, а <v> —  его значением. Используйте
                     точку с запятой или запятую, чтобы разделить несколько свойств, или
                     укажите каждое свойство отдельно. (Краткая форма: -p)
                     Пример:
                       -property:WarningLevel=2;OutDir=bin\Debug\

  -logger:<logger>   Использовать это средство ведения журнала для регистрации событий MSBuild. Чтобы указать
                     несколько средств ведения журнала, укажите каждое из них отдельно.
                     Синтаксис <logger>:
                       [<class>,]<assembly>[,<options>][;<parameters>]
                     Синтаксис <logger class>:
                       [<partial or full namespace>.]<logger class name>
                     Синтаксис <logger assembly>:
                       {<assembly name>[,<strong name>] | <assembly file>}
                     Параметры средства ведения журнала указывают, как MSBuild создает средство ведения журнала.
                     Параметры <logger parameters> являются необязательными и передаются
                     средству ведения журнала в том виде, в котором были введены. (Краткая форма: -l)
                     Примеры:
                       -logger:XMLLogger,MyLogger,Version=1.0.2,Culture=neutral
                       -logger:XMLLogger,C:\Loggers\MyLogger.dll;OutputAsHTML

  -distributedLogger:<central logger>*<forwarding logger>
                     Использовать это средство ведения журнала для регистрации событий MSBuild, подключив
                     другой экземпляр средства ведения журнала к каждому узлу. Чтобы указать
                     несколько средств ведения журнала, укажите каждое из них отдельно.
                     (Краткая форма: -dl)
                     Синтаксис <logger>:
                       [<class>,]<assembly>[,<options>][;<parameters>]
                     Синтаксис <logger class>:
                       [<partial or full namespace>.]<logger class name>
                     Синтаксис <logger assembly>:
                       {<assembly name>[,<strong name>] | <assembly file>}
                     Параметры средства ведения журнала указывают, как MSBuild создает средство ведения журнала.
                     Параметры <logger parameters> являются необязательными и передаются
                     средству ведения журнала в том виде, в котором были введены. (Краткая форма: -l)
                     Примеры:
                       -dl:XMLLogger,MyLogger,Version=1.0.2,Culture=neutral
                       -dl:MyLogger,C:\My.dll*ForwardingLogger,C:\Logger.dll

  -verbosity:<уровень> Уровень детализации сведений в журнале событий.
                     Доступные уровни детализации: q (или quiet) — отсутствует, m (или minimal) — минимальный,
                     n (или normal) — обычный, d (или detailed) — подробный, diag (или diagnostic) — диагностика. (Краткая форма: -v)
                     Пример:
                       -verbosity:quiet

                     Примечание. Детализация средств ведения журналов файлов
                           устанавливается отдельно с помощью
                           -fileloggerparameters.

  -validate          Проверить проект с учетом схемы по умолчанию. (Краткая
                     форма: -val)

  -validate:<схема> Проверить проект с учетом указанной схемы. (Краткая
                     форма: -val)
                     Пример:
                       -validate:MyExtendedBuildSchema.xsd

  -consoleLoggerParameters:<параметры>
                     Параметры средства ведения журнала консоли. (Краткая форма: -clp)
                     Доступны следующие параметры:
                        PerformanceSummary--показывать время, затраченное на выполнение задач,
                            целевых объектов и проектов.
                        Summary--показывать сводку ошибок и предупреждений по завершении работы.
                        NoSummary--не показывать сводку ошибок и предупреждений по
                            завершении работы.
                        ErrorsOnly--показывать только ошибки.
                        WarningsOnly--показывать только предупреждения.
                        NoItemAndPropertyList--не показывать список элементов и
                            свойств в начале сборки каждого проекта.
                        ShowCommandLine--показывать сообщения TaskCommandLineEvent
                        ShowTimestamp--показывать метку времени в качестве префикса к любому
                            сообщению.
                        ShowEventId--показывать код события eventId для запущенных событий,
                            завершенных событий и сообщений
                        ForceNoAlign--не выравнивать текст относительно размера
                            буфера консоли
                        DisableConsoleColor--использовать цвета консоли по умолчанию
                            для всех сообщений ведения журнала.
                        DisableMPLogging--отключить многопроцессорный
                            стиль ведения журнала выходных данных при работе в
                            режиме, отличном от многопроцессорного.
                        EnableMPLogging--включить многопроцессорный стиль ведения журнала
                            даже при работе в режиме, отличном от
                            многопроцессорного. Этот стиль ведения журнала включен по умолчанию.
                        ForceConsoleColor--использовать цвета консоли ANSI, даже если
                            консоль не поддерживает их
                        PreferConsoleColor--использовать цвета консоли ANSI лишь в случае, если
                            целевая консоль поддерживает их
                     Verbosity--переопределяет параметр -verbosity (уровень детализации) для этого
                            средства ведения журнала.
                     Пример:
                        -consoleLoggerParameters:PerformanceSummary;NoSummary;
                                                 Verbosity=minimal

  -maxCpuCount[:n]   Указывает максимальное количество параллельных
                     процессов сборки.  Если ключ не используется, применяется значение
                     по умолчанию 1.  Если ключ используется без значения,
                     MSBuild будет использовать то количество процессоров, которое установлено на
                     компьютере. (Краткая форма: -m[:n])
      
  -ignoreprojectextensions:<расширения>
                     Список игнорируемых расширений при определении
                     типа создаваемого файла проекта. Используйте точку с запятой или запятую 
                     для разделения нескольких расширений.
                     (Краткая форма: -ignore)
                     Пример:
                       -ignoreProjectExtensions:.sln
    
  -toolsversion:<версия>
                     Версия набора инструментов MSBuild Toolset (задачи, целевые объекты и т. д.),
                     которая будет использована при сборке. Эта версия заменит
                   версии, определенные для отдельных проектов. (Краткая форма: 
                     -tv)
                     Пример:
                       -toolsVersion:3.5
   
  -fileLoggerParameters[n]:<параметры>
                     Дополнительные параметры для журналов файлов.
                     Наличие этого параметра предполагает наличие 
                     соответствующего параметра -fileLogger[n].
                     Значение "n" (при его наличии) может быть цифрой от 1 до 9.
                     -fileLoggerParameters также используется любым распределенным
                     журналом файла, см. описание -distributedFileLogger.
                     (Краткая форма: -flp[n])
                     Такие же параметры доступны для журнала
                     консоли. Ниже перечислены некоторые дополнительные доступные параметры:
                        LogFile--путь к файлу журнала, в который
                            будет записан журнал сборки.
                        Append--определяет, будет ли журнал сборки добавлен
                            в файл журнала или перезапишет его. Установка
                            параметра добавляет журнал сборки в файл журнала;
                            Если параметр не задан, происходит перезапись
                            содержимого существующего файла журнала.
                            По умолчанию дополнения в файл журнала не вносятся.
                        Encoding--задает кодировку файла,
                            например UTF-8, Юникод или ASCII
                     По умолчанию уровень детализации имеет значение detailed (подробный).
                     Примеры:
                       -fileLoggerParameters:LogFile=MyLog.log;Append;
                                           Verbosity=diagnostic;Encoding=UTF-8

                       -flp:Summary;Verbosity=minimal;LogFile=msbuild.sum
                       -flp1:warningsonly;logfile=msbuild.wrn
                       -flp2:errorsonly;logfile=msbuild.err
    
  -terminalLogger[:авто,вкл,выкл] 
                     Включите или отключите регистратор терминала. Регистратор терминала 
                     обеспечивает расширенный вывод сборки на консоль в режиме реального времени, 
                     логически организованный по проектам и предназначенный для выделения 
                     полезной информации. Укажите авто (или используйте опцию 
                     без аргументов), чтобы использовать регистратор терминала только в том случае, если 
                     стандартный вывод не перенаправляется. Не анализируйте выходные данные 
                     и не полагайтесь на то, что они останутся неизменными в будущих 
                     версиях. Этот параметр будет доступен в MSBuild 17.8 и 
                     позже. 
                     (Short form: -tl)
    
  -terminalLoggerParameters: <parameters>
                     Параметры для логгера терминала. (Short form: -tlp)
                     Доступные параметры. 
                        по умолчанию — определяет поведение логгера 
                        терминала. Требуется одно из следующих значений: 
                           - "on", "true" заставляет использовать TerminalLogger даже 
                            когда он будет отключен. 
                           - "off", "false" запрещает использование TerminalLogger 
                            даже если бы он был включен. 
                           - "auto" включает TerminalLogger, когда терминал 
                            поддерживает это, и в сеансе нет перенаправления
                            stdout/stderr
                        verbosity – Переопределить параметр -verbosity для этого 
                        терминала 
                        showCommandLine — Показать сообщения TaskCommandLineEvent 

                      Пример:
                        -tlp:default=auto;verbosity=diag;shownCommandLine
    
  -nodeReuse:<параметры>
                     Включает или отключает повторное использование узлов MSBuild.
                     Параметры:
                     True --После завершения сборки узлы будут сохранены и
                            использованы повторно для последующих сборок (по умолчанию)
                     False --Узлы не будут сохранены после завершения сборки
                     (Краткая форма: -nr)
                     Пример:
                       -nr:true
    
  -preprocess[:file]
                     Создает один объединенный файл проекта,
                     встраивая в него все файлы, которые были бы импортированы во время сборки,
                     и отмечая их границы. Это может быть
                     полезно, чтобы узнать, какие файлы импортируются
                     и откуда, и что они добавят в
                     сборку. По умолчанию выходные данные записываются в
                     окно консоли. Если указан путь к файлу выходных
                     данных, то будет использоваться этот файл.
                     (Краткая форма: -pp)
                     Пример:
                       -pp:out.txt
    
  -targets[:file]
                     Выводит список доступных целевых объектов без выполнения
                     фактического процесса сборки. ПО умолчанию выходные данные записываются в
                     окно консоли. Если указан пусть к выходному
                     файлу, будет использоваться он.
                     (Краткая форма: -ts)
                     Пример:
                       -ts:out.txt
    
  -warnAsError[:код[;код_2]]
                     Список кодов предупреждений, которые следует считать
                     ошибками. Чтобы разделить коды, используйте точку с запятой
                     или запятую. Параметр без значений
                     указывает считать все предупреждения ошибками.
                     (краткая форма: -err[:код;[код_2]])

                     Пример:
                       -warnAsError:MSB4130

                     Если предупреждение считается ошибкой, целевой объект
                     продолжит выполняться (что и происходит в случае возникновения
                     предупреждений), но произойдет сбой сборки.
    
  -warnNotAsError[:код[;код2]]
                     Список кодов предупреждений, которые не следует обрабатывать в качестве ошибок.
                     Используйте точку с запятой или запятую, чтобы разделить
                     несколько кодов предупреждения. Не действует, если параметр -warnaserror
                     не задан.

                     Пример:
                       -warnNotAsError:MSB3026
    
  -warnAsMessage[:код[;код_2]]
                     Список кодов предупреждений, которые следует считать
                     сообщениями с низкой важностью.
                     Чтобы разделить коды,
                     используйте точку с запятой или запятую.
                     (краткая форма: -noWarn[:код;[код_2]])

                     Пример:
                       -warnAsMessage:MSB3026
    
  -binaryLogger[:[LogFile=]output.binlog[;ProjectImports={None,Embed,ZipFile}]]
                     Сериализует все события сборки в сжатый двоичный файл.
                     По умолчанию файл находится в текущем каталоге и называется
                     "msbuild.binlog". Двоичный журнал включает подробное описание
                     процесса сборки, которое затем можно использовать для воссоздания
                     текстовых журналов. Он также может использоваться другими средствами анализа. Двоичный журнал
                     обычно в 10–20 раз меньше самого подробного текстового
                     журнала уровня диагностики, но содержит больше информации.
                     (Краткая форма: -bl)

                     Средство ведения двоичного журнала по умолчанию собирает исходный текст
                     файлов проекта, включая все импортированные проекты и целевые
                     файлы, найденные во время сборки. Дополнительный
                     параметр ProjectImports управляет этим поведением:

                      ProjectImports=None     — не собирать импортированные файлы
                                                проекта.
                      ProjectImports=Embed    — внедрять импортированные файлы проекта в
                                                файл журнала.
                      ProjectImports=ZipFile  — сохранять файлы проекта в
                                                вывод.projectimports.zip,
                                                где вывод — это то же имя,
                                                что и у двоичного файла журнала.

                     Значение по умолчанию для ProjectImports — Embed.
                     Примечание. Средство ведения журнала не собирает исходные файлы, не от MSBuild,
                     например с расширениями CS, CPP и др.

                     BINLOG-файл можно "воспроизвести", передав его в
                     msbuild.exe в качестве аргумента вместо проекта или решения.
                     Другие средства ведения журнала получат содержащиеся
                     в файле журнала сведения, как если бы происходила собственно сборка.
                     Дополнительные сведения о двоичных журналах и их использовании:
                     https://aka.ms/msbuild/binlog

                     Примеры:
                       -bl
                       -bl:output.binlog
                       -bl:output.binlog;ProjectImports=None
                       -bl:output.binlog;ProjectImports=ZipFile
                       -bl:..\..\custom.binlog
                       -binaryLogger
    
  -check
                     Включает BuildChecks во время сборки.
                     BuildCheck позволяет оценивать правила для проверки свойств
                     сборки. Дополнительные сведения см. на странице aka.ms/buildcheck
	
  -restore[:True|False]
                     Запускает целевой объект с именем "Восстановление перед сборкой
                     других целевых объектов" и гарантирует, что сборка для этих
                     целевых объектов использует логику последней восстановленной сборки.
                     Это полезно, если дереву проектов нужно
                     восстановить пакеты перед сборкой.
                     Указание -restore аналогично указанию
                     -restore:True. Используйте этот параметр, чтобы переопределить
                     значение, поступающее от файла ответа.
                     (Краткая форма: -r)
    
  -profileEvaluation:<файл>
                     Профилирует оценку MSBuild и записывает результат
                     в указанный файл. Если указанный файл имеет
                     расширение MD, результат создается в формате
                     Markdown. В противном случае создается файл с разделением знаками табуляции.
    
  -restoreProperty:<n>=<v>
                     Задайте или переопределите только свойства на уровне проекта
                     во время восстановления и не используйте свойства, указанные
                     с помощью аргумента -property. <n> является именем
                     свойства, а <v> — его значением. Используйте
                     точку с запятой или запятую, чтобы разделить несколько свойств,
                     либо укажите каждое свойство отдельно.
                     (Краткая форма: -rp)
                     Пример:
                       -restoreProperty:IsRestore=true;MyProperty=value
    
  -interactive[:True|False]
                     Указывает, что действию в сборке можно
                     взаимодействовать с пользователем. Не используйте этот аргумент
                     в сценарии автоматизации, где интерактивность
                     не ожидается.
                     Указание -interactive равносильно указанию
                     -interactive:true.  Используйте этот параметр, чтобы переопределить
                     значение, которое поступает из файла ответа.
    
  -isolateProjects[:True|MessageUponIsolationViolation|False]
                     MSBuild выполняет сборку каждого проекта изолированно.

                     Если задано значение "MessageUponIsolationViolation" или его краткая
                     форма "Message"), то происходит сериализация результатов только целевых объектов
                     верхнего уровня, если указан параметр -outputResultsCache.
                     Этот параметр позволяет исключить ситуацию, когда
                     нарушающий изоляцию целевой объект в проекте зависимости может использовать
                     неверное состояние из-за зависимости от кэшированного целевого объекта,
                     побочные эффекты которого не учитываются.
                     (Например, определение какого-либо свойства.)

                     Это режим MSBuild с более строгими ограничениями,
                     поскольку для него требуется, чтобы граф проекта был статически обнаруживаемым во
                     время проверки. Тем не менее, при этом улучшается планирование и снижается
                     избыточное использование памяти при сборки крупного набора проектов.
                     (Краткая форма: -isolate)

                     Это экспериментальный флаг, он может работать неправильно.
    
  -graphBuild[:True|False]
                     Сообщает MSBuild, что нужно построить и собрать граф проекта.

                     Построение графа связано с определением ссылок
                     проекта для формирования зависимостей. Сборка графа
                     связана с попыткой собрать ссылки проекта до проектов,
                     которые на них ссылаются, что отличается от
                     традиционного графика MSBuild.
                     (Краткая форма: -graph)

                     Это экспериментальный флаг. Может работать не так, как ожидалось.
    
  -inputResultsCaches:<файл кэша>...
                     Список входных файлов кэша (разделитель — точка с запятой), из которых MSBuild
                     будет читать результаты сборки. Если для параметра -isolateProjects задано значение
                     "False", то оно будет изменено на "True". (Краткая форма: -irc)
   
  -outputResultsCache:[файл кэша]
                     Выходной файл кэша, в который MSBuild будет записывать содержимое
                     кэша результата сборки по окончании сборки.
                     Если для параметра -isolateProjects задано значение "False", оно будет изменено на "True".
                     (Краткая форма: -orc)
   
  -reportFileAccesses[:True|False]
                     Включение отчетов MSBuild о доступе к файлам для всех настроенных
                     подключаемых модулей кэша проекта.

                     Этот флаг является экспериментальным и может работать неправильно.
    
  -lowPriority[:True|False]
                     Запускает MSBuild с низким приоритетом процесса.

                     Указание -lowPriority аналогично указанию
                     -lowPriority:True.
                     (Краткая форма: -low)
    
  -question
                     (Экспериментальный параметр) Запрашивает, есть ли работа по сборке.
                     MSBuild выдает ошибку при обнаружении целевого объекта или задачи,
                     которые могут быть добавочными (с входными и выходными данными),
                     но не обновлены.
                     (Краткая форма: -q)
    
  -detailedSummary[:True|False]
                     Показывает в конце сборки подробные сведения
                     о созданных конфигурациях и графике их передачи
                     на узлы.
                     (Краткая форма: -ds)
    
  -getProperty:propertyName,...
                     Запишите значение одного или нескольких указанных свойств 
                     после оценки, не выполняя сборку, или, если 
                     опция -targets или опция -getTargetResult 
                     используется, запишите значения после сборки.
    
  -getItem:itemName,...
                     Запишите значение одного или нескольких указанных элементов и 
                     связанных с ними метаданных после оценки без 
                     выполнения сборки или, если используется опция -targets 
                     или опция -getTargetResult, запишите 
                     значения после сборки. 
    
  -getTargetResult:targetName,...
                     Запишите выходное значение одной или нескольких целей и 
                     указанные цели будут выполнены. 
    
  -getResultOutputFile:file
                     Перенаправить вывод get* в файл. 

                     Пример:
                     -getProperty:Bar -getResultOutputFile:Biz.txt
                     При этом значение свойства Bar будет записано в Biz.txt. 
    
  -featureAvailability:featureName,...
                     Проверьте доступность функции. Результатом является одна из 
                     строк "Не определено", "Доступно", "Недоступно" и 
                     "Предварительный просмотр". 
                     - Не определено — доступность функции не определена 
                     (имя функции неизвестно средству проверки доступности 
                     функции) 
                     - NotAvailable — функция недоступна (в отличие от 
                     Не определено, имя функции известно средству проверки 
                     доступности функции, и ему известно, что функция не 
                     поддерживается текущим механизмом MSBuild) 
                     - Доступно – функция доступна 
                     - Предварительная версия — функция находится в предварительной версии (не стабильна) 
                     (Short form: -fa)
    
  -help              Отображать это сообщение об использовании. (Краткая форма: -? или -h)

  -version           Отображать только данные о версии. (Краткая форма: -ver)

  -noLogo            Не отображать начальный заголовок и сообщение об авторском праве.

  -noAutoResponse    Не включать автоматически никакие файлы MSBuild.rsp. (Краткая форма:
                     -noAutoRsp)

  -noConsoleLogger   Отключить средство ведения журнала консоли по умолчанию
                     и не записывать события в консоль. (Краткая форма: -noConLog)

  -fileLogger[n]     Записывает выходные данные сборки в файл. По умолчанию
                     файл находится в текущем каталоге и называется
                     "msbuild[n].log". События из всех узлов объединяются в
                     один журнал. Расположение файла и других
                     параметров для fileLogger можно указать,
                     добавив параметр "-fileLoggerParameters[n]".
                     Значение "n" (при наличии) может быть цифрой от 1 до 9 и позволяет
                     прикрепить до 10 средств ведения файловых журналов. (Краткая форма: -fl[n])
    
  -distributedFileLogger
          Вносит результаты сборки в несколько файлов журнала, по одному файлу журнала
                     на узел MSBuild. Исходным расположением этих файлов является
                     текущий каталог. По умолчанию файлы называются 
                     "MSBuild<идентификатор узла nodeid>.log". Можно указать расположение файлов и
                     другие параметры для fileLogger,
                    добавив  параметр "-fileLoggerParameters".

                     Если название файла журнала задано с помощью параметра fileLoggerParameters,
                      распределенный журнал будет использовать fileName как
                     шаблон и добавит идентификатор узла в fileName, чтобы
                     создать файл журнала для каждого узла.
    
  @<файл>            Вставка параметров командной строки из текстового файла. Для задания
                     нескольких файлов ответов укажите каждый файл ответов
                     отдельно.

                     Все файлы ответов с именем "msbuild.rsp" автоматически
                     считываются из следующих расположений:
                     (1) каталога, где находится файл msbuild.exe
                     (2) каталога первой сборки проекта или решения

Примеры:

        MSBuild MyApp.sln -t:Rebuild -p:Configuration=Release
        MSBuild MyApp.csproj -t:Clean
                             -p:Configuration=Debug;TargetFrameworkVersion=v3.5
    
Дополнительные сведения см. по адресу https://aka.ms/msbuild/docs
